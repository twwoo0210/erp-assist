import{u as S,b as A,r as c,j as e,L as u}from"./index-CyyTbw2E.js";const P=[{value:"",label:"업종 선택 (선택사항)"},{value:"manufacturing",label:"제조업"},{value:"wholesale",label:"도매업"},{value:"retail",label:"소매업"},{value:"service",label:"서비스업"},{value:"construction",label:"건설업"},{value:"it",label:"IT/소프트웨어"},{value:"finance",label:"금융업"},{value:"healthcare",label:"의료/헬스케어"},{value:"education",label:"교육"},{value:"other",label:"기타"}];function F(){const b=S(),{signUp:g}=A(),[m,x]=c.useState(!1),[f,l]=c.useState(""),[n,d]=c.useState(1),[t,p]=c.useState({email:"",password:"",confirmPassword:"",fullName:"",companyName:"",industry:"",phone:"",termsAgreed:!1,marketingOptIn:!1}),[i,y]=c.useState({score:0,feedback:""}),j=s=>{let r=0,o="";s.length>=12?r+=2:s.length>=8&&(r+=1),/[a-z]/.test(s)&&(r+=1),/[A-Z]/.test(s)&&(r+=1),/[0-9]/.test(s)&&(r+=1),/[^A-Za-z0-9]/.test(s)&&(r+=1),r<3?o="약함 - 12자 이상, 대소문자/숫자/특수문자 조합 권장":r<5?o="보통 - 더 복잡한 조합을 권장합니다":o="강함",y({score:r,feedback:o})},N=s=>{const r=s.replace(/[^0-9]/g,"");return r.length<=3?r:r.length<=7?`${r.slice(0,3)}-${r.slice(3)}`:`${r.slice(0,3)}-${r.slice(3,7)}-${r.slice(7,11)}`},a=(s,r)=>{s==="password"&&typeof r=="string"&&j(r),s==="phone"&&typeof r=="string"&&(r=N(r)),p(o=>({...o,[s]:r}))},v=()=>!t.email||!t.password||!t.fullName?(l("필수 항목을 모두 입력해주세요."),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)?t.password.length<8?(l("비밀번호는 최소 8자 이상이어야 합니다."),!1):t.password!==t.confirmPassword?(l("비밀번호가 일치하지 않습니다."),!1):!0:(l("올바른 이메일 형식을 입력해주세요."),!1),w=()=>t.companyName?!0:(l("회사명을 입력해주세요."),!1),k=()=>t.termsAgreed?!0:(l("이용약관에 동의해주세요."),!1),h=()=>{l(""),n===1&&v()?d(2):n===2&&w()&&d(3)},C=async s=>{if(s.preventDefault(),!!k()){x(!0),l("");try{await g(t.email,t.password,{full_name:t.fullName,company_name:t.companyName,industry:t.industry,phone:t.phone,terms_agreed:t.termsAgreed,marketing_opt_in:t.marketingOptIn}),b("/auth/verify-email",{state:{email:t.email}})}catch(r){l(r.message||"회원가입 중 오류가 발생했습니다.")}finally{x(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"회원가입"}),e.jsx("div",{className:"mt-4 flex justify-center space-x-2",children:[1,2,3].map(s=>e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${n>=s?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"}`,children:s},s))}),e.jsxs("div",{className:"mt-2 text-center text-sm text-gray-600",children:[n===1&&"개인정보 입력",n===2&&"조직정보 입력",n===3&&"약관동의"]})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[f&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm",children:f}),n===1&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["이름 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",required:!0,value:t.fullName,onChange:s=>a("fullName",s.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"홍길동"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["이메일 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",required:!0,value:t.email,onChange:s=>a("email",s.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"your@company.com"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["비밀번호 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"password",required:!0,value:t.password,onChange:s=>a("password",s.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"최소 8자, 복잡한 조합 권장"}),t.password&&e.jsx("div",{className:`mt-1 text-xs ${i.score<3?"text-red-500":i.score<5?"text-yellow-500":"text-green-500"}`,children:i.feedback})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["비밀번호 확인 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"password",required:!0,value:t.confirmPassword,onChange:s=>a("confirmPassword",s.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"비밀번호를 다시 입력하세요"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"휴대폰 번호"}),e.jsx("input",{type:"tel",value:t.phone,onChange:s=>a("phone",s.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"010-0000-0000"})]}),e.jsx("button",{type:"button",onClick:h,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 whitespace-nowrap",children:"다음 단계"})]}),n===2&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["회사명 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",required:!0,value:t.companyName,onChange:s=>a("companyName",s.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"주식회사 예시"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"업종"}),e.jsx("select",{value:t.industry,onChange:s=>a("industry",s.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:P.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>d(1),className:"flex-1 py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 whitespace-nowrap",children:"이전"}),e.jsx("button",{type:"button",onClick:h,className:"flex-1 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 whitespace-nowrap",children:"다음 단계"})]})]}),n===3&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"terms",checked:t.termsAgreed,onChange:s=>a("termsAgreed",s.target.checked),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsxs("label",{htmlFor:"terms",className:"ml-2 text-sm text-gray-700",children:[e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(u,{to:"/terms",className:"text-blue-600 hover:underline",children:"이용약관"}),"에 동의합니다"]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"privacy",checked:t.termsAgreed,onChange:s=>a("termsAgreed",s.target.checked),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsxs("label",{htmlFor:"privacy",className:"ml-2 text-sm text-gray-700",children:[e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(u,{to:"/privacy",className:"text-blue-600 hover:underline",children:"개인정보처리방침"}),"에 동의합니다"]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"marketing",checked:t.marketingOptIn,onChange:s=>a("marketingOptIn",s.target.checked),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"marketing",className:"ml-2 text-sm text-gray-700",children:"마케팅 정보 수신에 동의합니다 (선택)"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>d(2),className:"flex-1 py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 whitespace-nowrap",children:"이전"}),e.jsx("button",{type:"submit",disabled:m,className:"flex-1 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 whitespace-nowrap",children:m?"가입 중...":"회원가입 완료"})]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("div",{className:"text-center",children:e.jsxs("span",{className:"text-sm text-gray-600",children:["이미 계정이 있으신가요?"," ",e.jsx(u,{to:"/auth/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"로그인"})]})})})]})})]})}export{F as default};
//# sourceMappingURL=register-CZBjCE9E.js.map
