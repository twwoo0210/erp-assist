{"version":3,"file":"ai-entry-CxAINOD0.js","sources":["../../src/pages/orders/ai-entry.tsx"],"sourcesContent":["\nimport { useState } from 'react'\nimport { useAuth } from '../../hooks/useAuth'\nimport { useNavigate } from 'react-router-dom'\nimport { supabase } from '../../utils/supabase'\n\ninterface OrderItem {\n  code: string\n  name: string\n  quantity: number\n  price: number\n  unit: string\n  note?: string\n}\n\ninterface ParsedOrder {\n  customer: string\n  items: OrderItem[]\n  note?: string\n}\n\nexport default function AIOrderEntryPage() {\n  const { user, ecountConnection, loading } = useAuth()\n  const navigate = useNavigate()\n  \n  const [inputText, setInputText] = useState('')\n  const [parsedOrder, setParsedOrder] = useState<ParsedOrder | null>(null)\n  const [orderItems, setOrderItems] = useState<OrderItem[]>([])\n  const [processing, setProcessing] = useState(false)\n  const [searching, setSearching] = useState(false)\n  const [creating, setCreating] = useState(false)\n  const [error, setError] = useState('')\n  const [success, setSuccess] = useState('')\n\n  // 로그인하지 않은 경우 리다이렉트\n  if (!loading && !user) {\n    navigate('/auth/login')\n    return null\n  }\n\n  // Ecount 연결이 안된 경우 안내\n  if (!loading && ecountConnection?.status !== 'connected') {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"max-w-md mx-auto bg-white rounded-lg shadow-md p-6 text-center\">\n          <i className=\"ri-link-unlink text-4xl text-gray-400 mb-4\"></i>\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">Ecount 연결 필요</h2>\n          <p className=\"text-gray-600 mb-4\">\n            AI 주문 입력을 사용하려면 먼저 Ecount 시스템과 연결해야 합니다.\n          </p>\n          <button\n            onClick={() => navigate('/settings/ecount')}\n            className=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 whitespace-nowrap\"\n          >\n            <i className=\"ri-settings-line mr-2\"></i>\n            Ecount 연결 설정\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  const handleParseOrder = async () => {\n    if (!inputText.trim()) return\n\n    setProcessing(true)\n    setError('')\n    setParsedOrder(null)\n\n    try {\n      const { data, error } = await supabase.functions.invoke('ai-parse-order', {\n        body: { inputText: inputText.trim() }\n      })\n\n      if (error) throw error\n\n      setParsedOrder(data)\n      setOrderItems(data.items || [])\n    } catch (err: any) {\n      setError(err.message || 'AI 주문 분석 중 오류가 발생했습니다.')\n    } finally {\n      setProcessing(false)\n    }\n  }\n\n  const handleSearchItems = async () => {\n    if (!parsedOrder?.items?.length) return\n\n    setSearching(true)\n    setError('')\n\n    try {\n      const updatedItems = []\n\n      for (const item of parsedOrder.items) {\n        try {\n          const { data, error } = await supabase.functions.invoke('ecount-items-search', {\n            body: { keyword: item.name }\n          })\n\n          if (error) throw error\n\n          if (data.items && data.items.length > 0) {\n            const foundItem = data.items[0]\n            updatedItems.push({\n              ...item,\n              code: foundItem.code,\n              price: foundItem.price || item.price,\n              unit: foundItem.unit || item.unit\n            })\n          } else {\n            updatedItems.push(item)\n          }\n        } catch (err) {\n          console.error(`Error searching item ${item.name}:`, err)\n          updatedItems.push(item)\n        }\n      }\n\n      setOrderItems(updatedItems)\n    } catch (err: any) {\n      setError(err.message || '품목 검색 중 오류가 발생했습니다.')\n    } finally {\n      setSearching(false)\n    }\n  }\n\n  const handleItemChange = (index: number, field: keyof OrderItem, value: string | number) => {\n    const updated = [...orderItems]\n    updated[index] = { ...updated[index], [field]: value }\n    setOrderItems(updated)\n  }\n\n  const handleCreateSale = async () => {\n    if (!parsedOrder?.customer || !orderItems.length) return\n\n    setCreating(true)\n    setError('')\n    setSuccess('')\n\n    try {\n      const { data, error } = await supabase.functions.invoke('ecount-sales-create', {\n        body: {\n          customer: { name: parsedOrder.customer },\n          items: orderItems,\n          type: 'sale'\n        }\n      })\n\n      if (error) throw error\n\n      setSuccess(`전표가 성공적으로 생성되었습니다. 전표번호: ${data.slip_no} (추적ID: ${data.trace_id})`)\n      \n      // 폼 초기화\n      setInputText('')\n      setParsedOrder(null)\n      setOrderItems([])\n    } catch (err: any) {\n      setError(err.message || '전표 생성 중 오류가 발생했습니다.')\n    } finally {\n      setCreating(false)\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* 헤더 */}\n        <div className=\"bg-white shadow rounded-lg mb-6\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h1 className=\"text-2xl font-bold text-gray-900\">AI 주문 입력</h1>\n                <p className=\"mt-1 text-sm text-gray-600\">\n                  자연어로 주문 내용을 입력하면 AI가 분석하여 Ecount 전표를 생성합니다\n                </p>\n              </div>\n              <button\n                onClick={() => navigate('/dashboard')}\n                className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 whitespace-nowrap\"\n              >\n                <i className=\"ri-arrow-left-line mr-2\"></i>\n                대시보드로 돌아가기\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* 입력 영역 */}\n        <div className=\"bg-white shadow rounded-lg mb-6\">\n          <div className=\"px-6 py-4\">\n            <h2 className=\"text-lg font-medium text-gray-900 mb-4\">주문 내용 입력</h2>\n            <div className=\"space-y-4\">\n              <div>\n                <label htmlFor=\"orderInput\" className=\"block text-sm font-medium text-gray-700\">\n                  주문 내용\n                </label>\n                <div className=\"mt-1\">\n                  <textarea\n                    id=\"orderInput\"\n                    rows={4}\n                    value={inputText}\n                    onChange={(e) => setInputText(e.target.value)}\n                    className=\"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md\"\n                    placeholder=\"예: A거래처, 깐소새우 96개, 새우볼 50개\"\n                  />\n                </div>\n                <p className=\"mt-1 text-xs text-gray-500\">\n                  거래처명과 품목, 수량을 자연어로 입력하세요\n                </p>\n              </div>\n              <div>\n                <button\n                  onClick={handleParseOrder}\n                  disabled={processing || !inputText.trim()}\n                  className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap\"\n                >\n                  {processing ? (\n                    <>\n                      <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                      AI 분석 중...\n                    </>\n                  ) : (\n                    <>\n                      <i className=\"ri-ai-generate mr-2\"></i>\n                      AI로 주문 분석\n                    </>\n                  )}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* 분석 결과 */}\n        {parsedOrder && (\n          <div className=\"bg-white shadow rounded-lg mb-6\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <div className=\"flex items-center justify-between\">\n                <h2 className=\"text-lg font-medium text-gray-900\">분석 결과</h2>\n                <button\n                  onClick={handleSearchItems}\n                  disabled={searching}\n                  className=\"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 whitespace-nowrap\"\n                >\n                  {searching ? (\n                    <>\n                      <div className=\"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-700 mr-1\"></div>\n                      품목 검색 중...\n                    </>\n                  ) : (\n                    <>\n                      <i className=\"ri-search-line mr-1\"></i>\n                      품목·단가 자동 채우기\n                    </>\n                  )}\n                </button>\n              </div>\n            </div>\n            <div className=\"px-6 py-4\">\n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700\">거래처</label>\n                <div className=\"mt-1 text-lg font-semibold text-gray-900\">{parsedOrder.customer}</div>\n              </div>\n\n              {/* 품목 목록 */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-3\">주문 품목</label>\n                <div className=\"space-y-3\">\n                  {orderItems.map((item, index) => (\n                    <div key={index} className=\"grid grid-cols-1 md:grid-cols-6 gap-3 p-4 border border-gray-200 rounded-md\">\n                      <div>\n                        <label className=\"block text-xs font-medium text-gray-700\">품목코드</label>\n                        <input\n                          type=\"text\"\n                          value={item.code}\n                          onChange={(e) => handleItemChange(index, 'code', e.target.value)}\n                          className=\"mt-1 block w-full text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                          placeholder=\"품목코드\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-xs font-medium text-gray-700\">품목명</label>\n                        <input\n                          type=\"text\"\n                          value={item.name}\n                          onChange={(e) => handleItemChange(index, 'name', e.target.value)}\n                          className=\"mt-1 block w-full text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                          placeholder=\"품목명\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-xs font-medium text-gray-700\">수량</label>\n                        <input\n                          type=\"number\"\n                          value={item.quantity}\n                          onChange={(e) => handleItemChange(index, 'quantity', parseInt(e.target.value) || 0)}\n                          className=\"mt-1 block w-full text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                          placeholder=\"수량\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-xs font-medium text-gray-700\">단가</label>\n                        <input\n                          type=\"number\"\n                          value={item.price}\n                          onChange={(e) => handleItemChange(index, 'price', parseFloat(e.target.value) || 0)}\n                          className=\"mt-1 block w-full text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                          placeholder=\"단가\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-xs font-medium text-gray-700\">단위</label>\n                        <input\n                          type=\"text\"\n                          value={item.unit}\n                          onChange={(e) => handleItemChange(index, 'unit', e.target.value)}\n                          className=\"mt-1 block w-full text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                          placeholder=\"단위\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-xs font-medium text-gray-700\">금액</label>\n                        <div className=\"mt-1 text-sm font-medium text-gray-900 py-2\">\n                          {(item.quantity * item.price).toLocaleString()}원\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n\n                {/* 총액 */}\n                <div className=\"mt-4 p-4 bg-gray-50 rounded-md\">\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-lg font-medium text-gray-900\">총 주문 금액</span>\n                    <span className=\"text-xl font-bold text-blue-600\">\n                      {orderItems.reduce((sum, item) => sum + (item.quantity * item.price), 0).toLocaleString()}원\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* 오류/성공 메시지 */}\n        {error && (\n          <div className=\"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm mb-6\">\n            <div className=\"flex\">\n              <i className=\"ri-error-warning-line mr-2 mt-0.5\"></i>\n              <div>{error}</div>\n            </div>\n          </div>\n        )}\n\n        {success && (\n          <div className=\"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-md text-sm mb-6\">\n            <div className=\"flex\">\n              <i className=\"ri-check-line mr-2 mt-0.5\"></i>\n              <div>{success}</div>\n            </div>\n          </div>\n        )}\n\n        {/* 전표 생성 */}\n        {parsedOrder && orderItems.length > 0 && (\n          <div className=\"bg-white shadow rounded-lg\">\n            <div className=\"px-6 py-4\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h2 className=\"text-lg font-medium text-gray-900\">전표 생성</h2>\n                  <p className=\"text-sm text-gray-600\">\n                    확인 후 Ecount 시스템에 판매 전표를 생성합니다\n                  </p>\n                </div>\n                <button\n                  onClick={handleCreateSale}\n                  disabled={creating}\n                  className=\"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap\"\n                >\n                  {creating ? (\n                    <>\n                      <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"></div>\n                      전표 생성 중...\n                    </>\n                  ) : (\n                    <>\n                      <i className=\"ri-file-add-line mr-2\"></i>\n                      전표 생성\n                    </>\n                  )}\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* 사용 예시 */}\n        <div className=\"mt-6 bg-white shadow rounded-lg\">\n          <div className=\"px-6 py-4\">\n            <h3 className=\"text-lg font-medium text-gray-900 mb-4\">사용 예시</h3>\n            <div className=\"space-y-3 text-sm text-gray-600\">\n              <div className=\"flex items-start\">\n                <i className=\"ri-chat-quote-line mr-2 mt-0.5 text-blue-500\"></i>\n                <div>\n                  <strong>\"A거래처, 깐소새우 96개, 새우볼 50개\"</strong>\n                  <p>→ 거래처: A거래처, 품목: 깐소새우(96개), 새우볼(50개)</p>\n                </div>\n              </div>\n              <div className=\"flex items-start\">\n                <i className=\"ri-chat-quote-line mr-2 mt-0.5 text-blue-500\"></i>\n                <div>\n                  <strong>\"삼성전자에 모니터 10대, 키보드 20개 납품\"</strong>\n                  <p>→ 거래처: 삼성전자, 품목: 모니터(10대), 키보드(20개)</p>\n                </div>\n              </div>\n              <div className=\"flex items-start\">\n                <i className=\"ri-lightbulb-line mr-2 mt-0.5 text-yellow-500\"></i>\n                <div>\n                  <strong>팁:</strong> 거래처명과 품목명, 수량을 명확히 구분하여 입력하면 더 정확한 분석이 가능합니다.\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":["AIOrderEntryPage","user","ecountConnection","loading","useAuth","navigate","useNavigate","inputText","setInputText","useState","parsedOrder","setParsedOrder","orderItems","setOrderItems","processing","setProcessing","searching","setSearching","creating","setCreating","error","setError","success","setSuccess","jsxs","jsx","handleParseOrder","data","supabase","err","handleSearchItems","updatedItems","item","foundItem","handleItemChange","index","field","value","updated","handleCreateSale","e","Fragment","sum"],"mappings":"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"}