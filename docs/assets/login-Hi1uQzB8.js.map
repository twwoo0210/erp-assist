{"version":3,"file":"login-Hi1uQzB8.js","sources":["../../src/pages/auth/login.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport { useAuth } from '../../hooks/useAuth';\n\nexport default function LoginPage() {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { signIn, user } = useAuth();\n  \n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [rememberEmail, setRememberEmail] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  // 로그인 상태면 대시보드로 리다이렉트\n  useEffect(() => {\n    if (user) {\n      const from = location.state?.from?.pathname || '/dashboard';\n      navigate(from, { replace: true });\n    }\n  }, [user, navigate, location]);\n\n  // 저장된 이메일 불러오기\n  useEffect(() => {\n    const savedEmail = localStorage.getItem('rememberedEmail');\n    if (savedEmail) {\n      setEmail(savedEmail);\n      setRememberEmail(true);\n    }\n  }, []);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      await signIn(email, password);\n      \n      // 이메일 기억하기 처리\n      if (rememberEmail) {\n        localStorage.setItem('rememberedEmail', email);\n      } else {\n        localStorage.removeItem('rememberedEmail');\n      }\n\n      const from = location.state?.from?.pathname || '/dashboard';\n      navigate(from, { replace: true });\n    } catch (error: any) {\n      let errorMessage = '로그인 중 오류가 발생했습니다.';\n      \n      if (error.message?.includes('Invalid login credentials')) {\n        errorMessage = '이메일 또는 비밀번호가 올바르지 않습니다.';\n      } else if (error.message?.includes('Email not confirmed')) {\n        errorMessage = '이메일 인증을 완료해주세요.';\n      } else if (error.message?.includes('Too many requests')) {\n        errorMessage = '너무 많은 시도가 있었습니다. 잠시 후 다시 시도해주세요.';\n      }\n      \n      setError(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\n        <h2 className=\"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900\">\n          로그인\n        </h2>\n        <p className=\"mt-2 text-center text-sm text-gray-600\">\n          계정에 로그인하여 서비스를 이용하세요\n        </p>\n      </div>\n\n      <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n        <div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            {error && (\n              <div className=\"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm\">\n                {error}\n              </div>\n            )}\n\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n                이메일\n              </label>\n              <input\n                id=\"email\"\n                type=\"email\"\n                required\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"your@company.com\"\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\n                비밀번호\n              </label>\n              <div className=\"mt-1 relative\">\n                <input\n                  id=\"password\"\n                  type={showPassword ? 'text' : 'password'}\n                  required\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  className=\"block w-full px-3 py-2 pr-10 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                  placeholder=\"비밀번호를 입력하세요\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n                >\n                  <i className={`ri-${showPassword ? 'eye-off' : 'eye'}-line text-gray-400 hover:text-gray-600`}></i>\n                </button>\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center\">\n                <input\n                  id=\"remember-email\"\n                  type=\"checkbox\"\n                  checked={rememberEmail}\n                  onChange={(e) => setRememberEmail(e.target.checked)}\n                  className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label htmlFor=\"remember-email\" className=\"ml-2 block text-sm text-gray-700\">\n                  이메일 기억하기\n                </label>\n              </div>\n\n              <div className=\"text-sm\">\n                <Link\n                  to=\"/auth/forgot-password\"\n                  className=\"font-medium text-blue-600 hover:text-blue-500\"\n                >\n                  비밀번호 찾기\n                </Link>\n              </div>\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 whitespace-nowrap\"\n            >\n              {loading ? '로그인 중...' : '로그인'}\n            </button>\n\n            <div className=\"mt-6\">\n              <div className=\"relative\">\n                <div className=\"absolute inset-0 flex items-center\">\n                  <div className=\"w-full border-t border-gray-300\" />\n                </div>\n                <div className=\"relative flex justify-center text-sm\">\n                  <span className=\"px-2 bg-white text-gray-500\">또는</span>\n                </div>\n              </div>\n\n              <div className=\"mt-6\">\n                <button\n                  type=\"button\"\n                  className=\"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 whitespace-nowrap\"\n                  disabled\n                >\n                  <i className=\"ri-google-fill text-red-500 mr-2\"></i>\n                  Google로 로그인 (준비중)\n                </button>\n              </div>\n            </div>\n          </form>\n\n          <div className=\"mt-6\">\n            <div className=\"text-center\">\n              <span className=\"text-sm text-gray-600\">\n                계정이 없으신가요?{' '}\n                <Link\n                  to=\"/auth/register\"\n                  className=\"font-medium text-blue-600 hover:text-blue-500\"\n                >\n                  회원가입\n                </Link>\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":["LoginPage","navigate","useNavigate","location","useLocation","signIn","user","useAuth","email","setEmail","useState","password","setPassword","rememberEmail","setRememberEmail","showPassword","setShowPassword","loading","setLoading","error","setError","useEffect","from","savedEmail","handleSubmit","e","errorMessage","jsxs","jsx","Link"],"mappings":"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"}