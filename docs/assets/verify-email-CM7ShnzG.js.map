{"version":3,"file":"verify-email-CM7ShnzG.js","sources":["../../src/pages/auth/verify-email.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport { supabase } from '../../utils/supabase';\n\nexport default function VerifyEmailPage() {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [email, setEmail] = useState('');\n  const [resending, setResending] = useState(false);\n  const [resent, setResent] = useState(false);\n  const [countdown, setCountdown] = useState(0);\n\n  useEffect(() => {\n    const emailFromState = location.state?.email;\n    if (emailFromState) {\n      setEmail(emailFromState);\n    } else {\n      // 이메일 정보가 없으면 회원가입 페이지로 리다이렉트\n      navigate('/auth/register');\n    }\n  }, [location, navigate]);\n\n  useEffect(() => {\n    if (countdown > 0) {\n      const timer = setTimeout(() => setCountdown(countdown - 1), 1000);\n      return () => clearTimeout(timer);\n    }\n  }, [countdown]);\n\n  const handleResendEmail = async () => {\n    if (!email || resending || countdown > 0) return;\n\n    setResending(true);\n    try {\n      const { error } = await supabase.auth.resend({\n        type: 'signup',\n        email: email\n      });\n\n      if (error) throw error;\n\n      setResent(true);\n      setCountdown(60); // 60초 쿨다운\n    } catch (error: any) {\n      console.error('이메일 재발송 실패:', error);\n      alert('이메일 재발송에 실패했습니다. 잠시 후 다시 시도해주세요.');\n    } finally {\n      setResending(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\n        <div className=\"text-center\">\n          <div className=\"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center\">\n            <i className=\"ri-mail-line text-2xl text-blue-600\"></i>\n          </div>\n          <h2 className=\"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900\">\n            이메일 인증\n          </h2>\n          <p className=\"mt-2 text-center text-sm text-gray-600\">\n            회원가입을 완료하려면 이메일 인증이 필요합니다\n          </p>\n        </div>\n      </div>\n\n      <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n        <div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\n          <div className=\"text-center space-y-6\">\n            <div>\n              <p className=\"text-sm text-gray-600\">\n                다음 이메일로 인증 링크를 발송했습니다:\n              </p>\n              <p className=\"mt-1 text-sm font-medium text-gray-900 break-all\">\n                {email}\n              </p>\n            </div>\n\n            <div className=\"bg-blue-50 border border-blue-200 rounded-md p-4\">\n              <div className=\"flex\">\n                <div className=\"flex-shrink-0\">\n                  <i className=\"ri-information-line text-blue-400\"></i>\n                </div>\n                <div className=\"ml-3\">\n                  <h3 className=\"text-sm font-medium text-blue-800\">\n                    인증 방법\n                  </h3>\n                  <div className=\"mt-2 text-sm text-blue-700\">\n                    <ol className=\"list-decimal list-inside space-y-1\">\n                      <li>이메일 받은편지함을 확인하세요</li>\n                      <li>인증 링크를 클릭하세요</li>\n                      <li>자동으로 로그인 페이지로 이동됩니다</li>\n                    </ol>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {resent && (\n              <div className=\"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-md text-sm\">\n                인증 이메일을 다시 발송했습니다.\n              </div>\n            )}\n\n            <div className=\"space-y-4\">\n              <button\n                onClick={handleResendEmail}\n                disabled={resending || countdown > 0}\n                className=\"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap\"\n              >\n                {resending ? (\n                  '발송 중...'\n                ) : countdown > 0 ? (\n                  `다시 발송 (${countdown}초 후)`\n                ) : (\n                  '인증 이메일 다시 발송'\n                )}\n              </button>\n\n              <div className=\"text-center text-sm text-gray-500\">\n                이메일이 오지 않나요? 스팸함도 확인해보세요.\n              </div>\n            </div>\n\n            <div className=\"border-t border-gray-200 pt-6\">\n              <div className=\"text-center space-y-2\">\n                <p className=\"text-sm text-gray-600\">\n                  다른 이메일로 가입하시겠습니까?\n                </p>\n                <Link\n                  to=\"/auth/register\"\n                  className=\"text-sm font-medium text-blue-600 hover:text-blue-500\"\n                >\n                  회원가입 다시 하기\n                </Link>\n              </div>\n            </div>\n\n            <div className=\"text-center\">\n              <Link\n                to=\"/auth/login\"\n                className=\"text-sm font-medium text-blue-600 hover:text-blue-500\"\n              >\n                로그인 페이지로 돌아가기\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":["VerifyEmailPage","location","useLocation","navigate","useNavigate","email","setEmail","useState","resending","setResending","resent","setResent","countdown","setCountdown","useEffect","emailFromState","timer","handleResendEmail","error","supabase","jsxs","jsx","Link"],"mappings":"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"}