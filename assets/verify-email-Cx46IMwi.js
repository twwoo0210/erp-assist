import{a as f,u as j,r as a,j as e,L as m,s as g}from"./index-TUPhGR7w.js";function N(){const i=f(),n=j(),[l,x]=a.useState(""),[r,c]=a.useState(!1),[o,u]=a.useState(!1),[t,d]=a.useState(0);a.useEffect(()=>{const s=i.state?.email;s?x(s):n("/auth/register")},[i,n]),a.useEffect(()=>{if(t>0){const s=setTimeout(()=>d(t-1),1e3);return()=>clearTimeout(s)}},[t]);const h=async()=>{if(!(!l||r||t>0)){c(!0);try{const{error:s}=await g.auth.resend({type:"signup",email:l});if(s)throw s;u(!0),d(60)}catch(s){console.error("이메일 재발송 실패:",s),alert("이메일 재발송에 실패했습니다. 잠시 후 다시 시도해주세요.")}finally{c(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"ri-mail-line text-2xl text-blue-600"})}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"이메일 인증"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"회원가입을 완료하려면 이메일 인증이 필요합니다"})]})}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"다음 이메일로 인증 링크를 발송했습니다:"}),e.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 break-all",children:l})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("i",{className:"ri-information-line text-blue-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"인증 방법"}),e.jsx("div",{className:"mt-2 text-sm text-blue-700",children:e.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[e.jsx("li",{children:"이메일 받은편지함을 확인하세요"}),e.jsx("li",{children:"인증 링크를 클릭하세요"}),e.jsx("li",{children:"자동으로 로그인 페이지로 이동됩니다"})]})})]})]})}),o&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-md text-sm",children:"인증 이메일을 다시 발송했습니다."}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:h,disabled:r||t>0,className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:r?"발송 중...":t>0?`다시 발송 (${t}초 후)`:"인증 이메일 다시 발송"}),e.jsx("div",{className:"text-center text-sm text-gray-500",children:"이메일이 오지 않나요? 스팸함도 확인해보세요."})]}),e.jsx("div",{className:"border-t border-gray-200 pt-6",children:e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"다른 이메일로 가입하시겠습니까?"}),e.jsx(m,{to:"/auth/register",className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"회원가입 다시 하기"})]})}),e.jsx("div",{className:"text-center",children:e.jsx(m,{to:"/auth/login",className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"로그인 페이지로 돌아가기"})})]})})})]})}export{N as default};
//# sourceMappingURL=verify-email-Cx46IMwi.js.map
