import{u as w,a as E,b as S,r as t,j as e,L as p}from"./index-TUPhGR7w.js";function I(){const l=w(),o=E(),{signIn:y,user:n}=S(),[i,c]=t.useState(""),[d,j]=t.useState(""),[u,x]=t.useState(!1),[m,v]=t.useState(!1),[h,b]=t.useState(!1),[f,g]=t.useState("");t.useEffect(()=>{if(n){const s=o.state?.from?.pathname||"/dashboard";l(s,{replace:!0})}},[n,l,o]),t.useEffect(()=>{const s=localStorage.getItem("rememberedEmail");s&&(c(s),x(!0))},[]);const N=async s=>{s.preventDefault(),b(!0),g("");try{await y(i,d),u?localStorage.setItem("rememberedEmail",i):localStorage.removeItem("rememberedEmail");const a=o.state?.from?.pathname||"/dashboard";l(a,{replace:!0})}catch(a){let r="로그인 중 오류가 발생했습니다.";a.message?.includes("Invalid login credentials")?r="이메일 또는 비밀번호가 올바르지 않습니다.":a.message?.includes("Email not confirmed")?r="이메일 인증을 완료해주세요.":a.message?.includes("Too many requests")&&(r="너무 많은 시도가 있었습니다. 잠시 후 다시 시도해주세요."),g(r)}finally{b(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"로그인"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"계정에 로그인하여 서비스를 이용하세요"})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[f&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm",children:f}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"이메일"}),e.jsx("input",{id:"email",type:"email",required:!0,value:i,onChange:s=>c(s.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"your@company.com"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"비밀번호"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("input",{id:"password",type:m?"text":"password",required:!0,value:d,onChange:s=>j(s.target.value),className:"block w-full px-3 py-2 pr-10 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"비밀번호를 입력하세요"}),e.jsx("button",{type:"button",onClick:()=>v(!m),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx("i",{className:`ri-${m?"eye-off":"eye"}-line text-gray-400 hover:text-gray-600`})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-email",type:"checkbox",checked:u,onChange:s=>x(s.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-email",className:"ml-2 block text-sm text-gray-700",children:"이메일 기억하기"})]}),e.jsx("div",{className:"text-sm",children:e.jsx(p,{to:"/auth/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"비밀번호 찾기"})})]}),e.jsx("button",{type:"submit",disabled:h,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 whitespace-nowrap",children:h?"로그인 중...":"로그인"}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"또는"})})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 whitespace-nowrap",disabled:!0,children:[e.jsx("i",{className:"ri-google-fill text-red-500 mr-2"}),"Google로 로그인 (준비중)"]})})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("div",{className:"text-center",children:e.jsxs("span",{className:"text-sm text-gray-600",children:["계정이 없으신가요?"," ",e.jsx(p,{to:"/auth/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"회원가입"})]})})})]})})]})}export{I as default};
//# sourceMappingURL=login-Hi1uQzB8.js.map
